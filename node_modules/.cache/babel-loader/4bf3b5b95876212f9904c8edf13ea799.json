{"ast":null,"code":"import _slicedToArray from\"D:/sb/react-webpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import'./DropDown.css';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dropdown(_ref){var options=_ref.options,prop=_ref.prop,value=_ref.value,_onChange=_ref.onChange,id=_ref.id,label=_ref.label;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var ref=useRef(null);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];useEffect(function(){document.addEventListener('click',close);return function(){return document.removeEventListener('click',close);};},[]);function close(e){setOpen(e&&e.target===ref.current);}function filter(options){return options.filter(function(option){return option[label].toLowerCase().indexOf(query.toLowerCase())>-1;});}function displayValue(){if(query.length>0)return query;if(value)return value[label];return'';}return/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control\",onClick:function onClick(){return setOpen(function(prev){return!prev;});},children:[/*#__PURE__*/_jsx(\"div\",{className:\"selected-value\",children:/*#__PURE__*/_jsx(\"input\",{className:\"searchinput\",type:\"text\",ref:ref,placeholder:value?value[label]:prop,value:displayValue,onChange:function onChange(e){setQuery(e.target.value);_onChange(null);},onClick:function onClick(){return setOpen(function(prev){return!prev;});}})}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow \".concat(open?'open':null)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"options \".concat(open?'open':null),children:[filter(options).map(function(option){return/*#__PURE__*/_jsx(\"div\",{className:\"option \".concat(value===option?'selected':null),onClick:function onClick(){_onChange(option);setOpen(false);setQuery('');},children:/*#__PURE__*/_jsx(Link,{as:Link,to:\"/pharmacy-search\",children:option[label]})},option[id]);}),/*#__PURE__*/_jsx(\"option\",{value:\"\"})]})]});}","map":{"version":3,"sources":["D:/sb/react-webpage/src/components/WebSite/Pages/DynamicComponents/SearchBar/app/dropdown/DropDown.js"],"names":["React","useState","useEffect","useRef","Link","Dropdown","options","prop","value","onChange","id","label","open","setOpen","ref","query","setQuery","document","addEventListener","close","removeEventListener","e","target","current","filter","option","toLowerCase","indexOf","displayValue","length","prev","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\nimport './DropDown.css'\nimport { Link } from \"react-router-dom\";\n\nexport default function Dropdown({options, prop, value, onChange, id, label}) {\n    const [open, setOpen] = useState(false);\n    const ref = useRef(null)\n    const [query, setQuery] = useState('')\n\n    useEffect(() => {\n        document.addEventListener('click', close);\n        return () => document.removeEventListener('click', close);\n    }, [])\n\n    function close(e) {\n        setOpen(e && e.target === ref.current)\n    }\n\n    function filter(options) {\n        return options.filter(\n            (option) => \n            option[label].toLowerCase().indexOf(query.toLowerCase()) > -1\n        )\n    }\n\n    function displayValue() {\n      if(query.length > 0) return query\n      if(value) return value[label]\n      return '';\n    }\n\n  return <div className=\"dropdown\">\n    <div className=\"control\" onClick={() => setOpen((prev ) => !prev)}>\n      <div className=\"selected-value\">\n          <input className=\"searchinput\" type=\"text\" ref={ref} placeholder={value ? value[label] : prop} value={displayValue} onChange={e => \n          {\n              setQuery(e.target.value)\n              onChange(null)\n          }} onClick={() => setOpen((prev) => !prev)}/>\n          </div>\n      <div className={`arrow ${open ? 'open' : null}`}></div>\n    </div>\n    <div className={`options ${open ? 'open' : null}`}>\n      {\n        filter(options).map((option) => (\n          <div key={option[id]} className={`option ${value === option ? 'selected' : null}`} \n          onClick={() => {\n              onChange(option)\n              setOpen(false)\n              setQuery('')\n          }}><Link as={Link} to=\"/pharmacy-search\">{option[label]}</Link></div>\n        ))\n      }\n      <option value=\"\"></option>\n    </div>\n  </div>\n}\n"]},"metadata":{},"sourceType":"module"}