{"ast":null,"code":"import _objectSpread from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/React/Medatu/Medatu-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Placesapi.css';import DoctorSearch from'./DoctorSearch';import PlacesAutocomplete,{geocodeByAddress,getLatLng}from'react-places-autocomplete';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);var _super=_createSuper(Search);function Search(props){var _this2;_classCallCheck(this,Search);_this2=_super.call(this,props);_this2.setCurrentLocation=function(data){_this2.currentLocation=data;_this2.setState({address:data.address_components[0].long_name});};_this2.getApproxAddress=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(lat,long){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\".concat(lat,\",\").concat(long,\"&result_type=street_address|political|locality|sublocality|neighborhood|premise|subpremise&key=AIzaSyBgZl9hJTsIqoYnfZmmFDi6oKqg3QNYN5s&libraries=places\")).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('Map Response: ',data);if(data.status==='OK'&&data.results.length>0){_this2.setCurrentLocation(data.results[0]);}return _context.abrupt(\"return\",null);case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x3){return _ref2.apply(this,arguments);};}());case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this2.getNearbyPlaces=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this2$state,latitude,longitude,URL;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this2.setState({isChanged:false});_this2$state=_this2.state,latitude=_this2$state.latitude,longitude=_this2$state.longitude;console.log(latitude,longitude);URL=\"https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\".concat(latitude,\",\").concat(longitude,\"&type=bus_station|post_office|tourist_attraction|train_station|hospital&radius=\").concat(5000*1000,\"&key=AIzaSyBgZl9hJTsIqoYnfZmmFDi6oKqg3QNYN5s\");axios.get(URL).then(function(response){console.log(response.data.results);_this2.formatSuggestions(response.data.results);}).catch(function(error){console.log(error.message);});case 5:case\"end\":return _context3.stop();}}},_callee3);}));_this2.formatSuggestions=function(results){var formattedResults=results.map(function(k){return{description:k.name,id:k.place_id,types:[\"locality\",\"political\",\"geocode\"],formattedSuggestion:{mainText:k.name,secondaryText:k.vicinity}};});console.log('formattedResults',formattedResults);_this2.setState({initialSuggestions:formattedResults});};_this2.handleChange=function(address){_this2.setState({isChanged:true});_this2.setState({address:address});};_this2.handleSelect=function(address){geocodeByAddress(address).then(function(results){return getLatLng(results[0]);}).then(function(latLng){return console.log('Success',latLng);}).catch(function(error){return console.error('Error',error);});};_this2.fetchSuggestions=function(){console.log('fetching suggestions');_this2.getNearbyPlaces();};_this2.state={address:'',currentLocation:null,initialSuggestions:[],latitude:null,longitude:null,isChanged:false};return _this2;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){this.getGeoLocation();var _this=this;document.addEventListener('click',function(e){console.log('e',e.target.className);if(!e.target.className.includes('location-search-input')){_this.setState({isChanged:true});}},false);}},{key:\"getGeoLocation\",value:function getGeoLocation(){var _this3=this;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(_ref4){var coords=_ref4.coords;var latitude=coords.latitude,longitude=coords.longitude;console.log('latlong',latitude,longitude);_this3.setState({latitude:latitude,longitude:longitude});_this3.currentLocation=_this3.getApproxAddress(latitude,longitude);});}else{console.log(\"Geolocation is not supported by this browser.\");}}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsx(PlacesAutocomplete,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,children:function children(_ref5){var getInputProps=_ref5.getInputProps,suggestions=_ref5.suggestions,getSuggestionItemProps=_ref5.getSuggestionItemProps,loading=_ref5.loading;console.log('suggesstions',suggestions);var iterableSuggestion=_this4.state.isChanged?suggestions:_this4.state.initialSuggestions;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",style:{padding:\"0\"},children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-design\",action:\"assets/webpages/list.html\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-location\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderBottomLeftRadius:20,borderTopLeftRadius:20,borderColor:\"#a49d9d !important\"}},getInputProps({placeholder:'Search Places ...',className:'location-search-input'})),{},{type:\"text\",id:\"location\",placeholder:\"Search Location\",onFocus:_this4.fetchSuggestions})),/*#__PURE__*/_jsxs(\"div\",{className:\"autocomplete-dropdown-container\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),iterableSuggestion.map(function(suggestion){var style=suggestion.active?{backgroundColor:'rgba(238, 238, 232)',padding:\".5rem\"}:{backgroundColor:'#fdfdfd',padding:\".5rem\"};return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({className:\"input-suggestionz\"},getSuggestionItemProps(suggestion,{style:style})),{},{children:/*#__PURE__*/_jsx(\"span\",{style:{cursor:'pointer'},onClick:function onClick(){_this4.handleChange(suggestion.description);},children:suggestion.description})}));})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-info\",children:/*#__PURE__*/_jsx(DoctorSearch,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"searchbutton\",children:\"Search\"})]})})});}});}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"sources":["D:/React/Medatu/Medatu-website/src/components/WebSite/Pages/DynamicComponents/SearchBar/app/Search.js"],"names":["React","DoctorSearch","PlacesAutocomplete","geocodeByAddress","getLatLng","axios","Search","props","setCurrentLocation","data","currentLocation","setState","address","address_components","long_name","getApproxAddress","lat","long","fetch","then","response","json","console","log","status","results","length","getNearbyPlaces","isChanged","state","latitude","longitude","URL","get","formatSuggestions","catch","error","message","formattedResults","map","k","description","name","id","place_id","types","formattedSuggestion","mainText","secondaryText","vicinity","initialSuggestions","handleChange","handleSelect","latLng","fetchSuggestions","getGeoLocation","_this","document","addEventListener","e","target","className","includes","navigator","geolocation","getCurrentPosition","coords","getInputProps","suggestions","getSuggestionItemProps","loading","iterableSuggestion","padding","borderBottomLeftRadius","borderTopLeftRadius","borderColor","placeholder","suggestion","style","active","backgroundColor","cursor","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport './Placesapi.css'\r\nimport DoctorSearch from './DoctorSearch'\r\nimport PlacesAutocomplete, {\r\n  geocodeByAddress,\r\n  getLatLng,\r\n} from 'react-places-autocomplete';\r\nimport axios from \"axios\";\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      address: '',\r\n      currentLocation: null,\r\n      initialSuggestions: [],\r\n      latitude: null,\r\n      longitude: null,\r\n      isChanged: false,\r\n    };\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.getGeoLocation()\r\n    let _this = this\r\n    document.addEventListener('click', function (e) {\r\n      console.log('e', e.target.className)\r\n      if(!e.target.className.includes('location-search-input')){\r\n         _this.setState({isChanged: true})\r\n      }\r\n    }, false);\r\n  }\r\n\r\n  getGeoLocation() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(({ coords }) => {\r\n        const { latitude, longitude } = coords\r\n        console.log('latlong', latitude, longitude)\r\n        this.setState({latitude: latitude, longitude: longitude})\r\n        this.currentLocation = this.getApproxAddress(latitude, longitude)\r\n      })\r\n    } else {\r\n      console.log(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  }\r\n\r\n  setCurrentLocation = (data) => {\r\n    this.currentLocation = data\r\n    this.setState({address: data.address_components[0].long_name})\r\n  }\r\n\r\n  getApproxAddress = async (lat, long) => {\r\n    return await fetch(\r\n      `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${long}&result_type=street_address|political|locality|sublocality|neighborhood|premise|subpremise&key=AIzaSyBgZl9hJTsIqoYnfZmmFDi6oKqg3QNYN5s&libraries=places`\r\n    )\r\n      .then((response) => response.json())\r\n      .then(async (data) => {\r\n        console.log('Map Response: ', data)\r\n        if (data.status === 'OK' && data.results.length > 0) {\r\n          this.setCurrentLocation(data.results[0])\r\n        }\r\n   \r\n        return null\r\n        \r\n      })\r\n  }\r\n  getNearbyPlaces = async () => {\r\n    this.setState({isChanged: false})\r\n    const {latitude, longitude} = this.state\r\n    console.log(latitude, longitude)\r\n    const URL = `https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${\r\n      latitude\r\n    },${longitude}&type=bus_station|post_office|tourist_attraction|train_station|hospital&radius=${5000 *\r\n      1000}&key=AIzaSyBgZl9hJTsIqoYnfZmmFDi6oKqg3QNYN5s`;\r\n    axios\r\n      .get(URL)\r\n      .then(response => {\r\n        console.log(response.data.results);\r\n        this.formatSuggestions(response.data.results)\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      });\r\n  }\r\n\r\n  formatSuggestions = (results) => {\r\n    const formattedResults = results \r\n    .map(function(k) {\r\n      return {\r\n        description: k.name,\r\n        id: k.place_id,\r\n        types: [\"locality\", \"political\", \"geocode\"],\r\n        formattedSuggestion: {mainText: k.name, secondaryText: k.vicinity}\r\n      }\r\n    })\r\n    console.log('formattedResults', formattedResults)\r\n    this.setState({initialSuggestions: formattedResults})\r\n  }\r\n\r\n  handleChange = address => {\r\n    this.setState({isChanged: true})\r\n    this.setState({ address });\r\n  };\r\n \r\n  handleSelect = address => {\r\n    geocodeByAddress(address)\r\n      .then(results => getLatLng(results[0]))\r\n      .then(latLng => console.log('Success', latLng))\r\n      .catch(error => console.error('Error', error));\r\n  };\r\n\r\n  fetchSuggestions = () => {\r\n    console.log('fetching suggestions')\r\n    this.getNearbyPlaces()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PlacesAutocomplete\r\n        value={this.state.address}\r\n        onChange={this.handleChange}\r\n        onSelect={this.handleSelect}\r\n      >\r\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => {\r\n          console.log('suggesstions', suggestions)\r\n          const iterableSuggestion = this.state.isChanged ? suggestions : this.state.initialSuggestions\r\n          return(\r\n            <div>\r\n            <div className=\"search-box\" style={{padding: \"0\"}}>\r\n           \r\n            <form className=\"form-design\" action=\"assets/webpages/list.html\">\r\n\r\n            <div className='search-location'>\r\n            <input  style={{borderBottomLeftRadius:20,borderTopLeftRadius:20,borderColor: \"#a49d9d !important\"}} {...getInputProps({placeholder: 'Search Places ...', className: 'location-search-input',})}type=\"text\" id=\"location\" placeholder=\"Search Location\" onFocus={this.fetchSuggestions}/>                \r\n              <div className=\"autocomplete-dropdown-container\">\r\n                  {loading && <div>Loading...</div>}\r\n                  {iterableSuggestion.map(suggestion => {\r\n                      \r\n                      const style = suggestion.active\r\n                      ? { backgroundColor: 'rgba(238, 238, 232)',padding: \".5rem\" }\r\n                      : { backgroundColor: '#fdfdfd',padding: \".5rem\" };\r\n                      return (\r\n                      <div \r\n                      className='input-suggestionz'\r\n                          {...getSuggestionItemProps(suggestion, {\r\n                          style,\r\n                          })}\r\n                      >\r\n                        <span style={{cursor: 'pointer'}} onClick={() => {this.handleChange(suggestion.description)}}>{suggestion.description}</span>\r\n                        </div>\r\n                        );\r\n                    })}\r\n                  </div>\r\n            </div>\r\n\r\n            <div className=\"search-info\">\r\n              <DoctorSearch/>\r\n            </div>\r\n          <button className=\"searchbutton\">Search</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n          )\r\n        }\r\n         \r\n        }\r\n      </PlacesAutocomplete>\r\n    );\r\n   \r\n  }\r\n} export default Search;"]},"metadata":{},"sourceType":"module"}